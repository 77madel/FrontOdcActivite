<div class="flex items-center gap-6 text-2xl mb-6 font-bold tracking-normal text-white">
  <div class="flex flex-col grow items-start bg-orange-400 rounded-3xl w-fit">
    <div class="px-5 pb-0 bg-black rounded-3xl">
      Importation des fichiers
    </div>
  </div>
  <div class="mt-3 flex-grow flex justify-end">
    <button class="bg-orange-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-orange-600 focus:outline-none"
            (click)="goBackToEtape()">
      Retour
    </button>
  </div>
</div>

<!-- Formulaire d'upload -->
<div class="mb-6 max-w-md mx-auto bg-white shadow-lg rounded-lg overflow-hidden">
  <div class="p-4 border-b">
    <h2 class="text-lg font-semibold text-gray-700">
      Importer des Participants pour l'Étape {{ currentEtapeNom }}
    </h2>
  </div>

  <div class="p-6">
    <form (ngSubmit)="uploadParticipants(currentEtapeId!, true)">
      <label for="file-input" class="block text-gray-700 text-sm font-bold mb-2">Sélectionnez un fichier</label>
      <input
        id="file-input" type="file" (change)="onFileChange($event)" accept=".csv, .xlsx"
        required class="block w-full text-sm text-gray-500 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-orange-500 file:text-orange-700 hover:file:bg-orange-100"
      />
      <div *ngIf="selectedFile" class="mt-2 text-gray-600">
        Fichier sélectionné : <span class="font-semibold">{{ selectedFile.name }}</span>
      </div>

      <div class="flex justify-between mt-4 gap-2">
        <button type="submit" class="w-1/2 bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-lg focus:outline-none" [disabled]="!selectedFile">
          Liste Début
        </button>
        <button type="button" (click)="uploadParticipants(currentEtapeId!, false)"
                class="w-1/2 bg-gray-800 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg focus:outline-none" [disabled]="!selectedFile">
          Liste Résultat
        </button>
      </div>

      <div *ngIf="errorMessage" class="mt-4 text-red-600">
        {{ errorMessage }}
      </div>
    </form>
  </div>
</div>
