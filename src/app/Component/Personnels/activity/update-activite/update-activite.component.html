<div class="p-12 space-y-6">

  <div class="flex items-center gap-6 text-2xl mb-2 font-bold tracking-normal text-white">
    <div class="flex flex-col grow items-start bg-orange-400 rounded-3xl w-fit">
      <div class="px-5 pb-0 bg-black rounded-3xl">
       Modification
      </div>
    </div>
    <!--        *ngIf="userRoles.includes('PERSONNEL')"-->
    <div class="mt-3 flex-grow flex justify-end">
      <button
        (click)="retour()"
        class="px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition duration-150 ease-in-out"
      >
        Annuler
      </button>
    </div>
  </div>

  <!-- Formulaire d'ajout/modification -->
  <div  class="bg-white shadow-lg rounded-lg p-6 space-y-6">
    <h2 class="text-xl font-semibold text-gray-700">Modifier</h2>
    <form (ngSubmit)="modifierActivite()" class="space-y-4">

      <!-- Nom et Titre -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="nom" class="block text-sm font-medium text-gray-700">Nom</label>
          <input id="nom" type="text" name="nom" [(ngModel)]="activiteToUpdate.nom" required
                 class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 w-full" />
        </div>
        <div>
          <label for="titre" class="block text-sm font-medium text-gray-700">Titre</label>
          <input id="titre" type="text" name="titre" [(ngModel)]="activiteToUpdate.titre" required
                 class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 w-full" />
        </div>
      </div>

      <!-- Description et Lieu -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
          <input id="description" type="text" name="description" [(ngModel)]="activiteToUpdate.description" required
                 class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 w-full" />
        </div>
        <div>
          <label for="lieu" class="block text-sm font-medium text-gray-700">Lieu</label>
          <input id="lieu" type="text" name="lieu" [(ngModel)]="activiteToUpdate.lieu" required
                 class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 w-full" />
        </div>
      </div>

      <!-- Objectif Participant et Date de Début -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="objectif" class="block text-sm font-medium text-gray-700">Objectif Participant</label>
          <input id="objectif" type="number" name="objectifParticipation" [(ngModel)]="activiteToUpdate.objectifParticipation" required
                 class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 w-full" />
        </div>
        <div>
          <label for="dateDebut" class="block text-sm font-medium text-gray-700">Date Début</label>
          <input id="dateDebut" type="date" name="dateDebut" [(ngModel)]="activiteToUpdate.dateDebut" required
                 class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 w-full" />
        </div>
      </div>

      <!-- Date de Fin -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="dateFin" class="block text-sm font-medium text-gray-700">Date Fin</label>
          <input id="dateFin" type="date" name="dateFin" [(ngModel)]="activiteToUpdate.dateFin" required
                 class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 w-full" />
        </div>

        <div>
          <label for="entite" class="block text-sm font-medium text-gray-700">Entité</label>
          <select id="entite" name="entite" [(ngModel)]="activiteToUpdate.entite" required
                  class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 w-full">
            <option *ngFor="let option of entite" [value]="option.id">{{ option.nom }}</option>
          </select>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="typeActivite" class="block text-sm font-medium text-gray-700">Type Activité</label>
          <select id="typeActivite" name="typeActivite" [(ngModel)]="activiteToUpdate.typeActivite" required
                  class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 w-full">
            <option *ngFor="let option of typeActivite" [value]="option.id">{{ option.type }}</option>
          </select>
        </div>

        <!-- Boucle pour afficher les étapes avec cases à cocher -->
        <select multiple [(ngModel)]="selectedEtapeIds" (ngModelChange)="onEtapesChange()">
          <option *ngFor="let etape of etapes" [value]="etape.id">{{ etape.nom }}</option>
        </select>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label for="salleId" class="block text-sm font-medium text-gray-700">Salle</label>
          <select id="salleId" name="salleId" [(ngModel)]="activiteToUpdate.salleId" required
                  class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-400 w-full">
            <option *ngFor="let option of salleId" [value]="option.id">{{ option.nom }}</option>
          </select>
        </div>
      </div>

      <!-- Bouton de soumission -->
      <div class="flex justify-end">
        <button  type="submit" class="bg-orange-500 text-white font-semibold py-2 px-6 rounded-lg hover:bg-orange-600 transition">
          Modifier
        </button>
      </div>
    </form>
  </div>
</div>
